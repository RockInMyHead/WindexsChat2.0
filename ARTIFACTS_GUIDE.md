# üé® –†–µ–∂–∏–º "Artifacts: Website" - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## –û–ø–∏—Å–∞–Ω–∏–µ

–†–µ–∂–∏–º "Artifacts: Website" –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≤–µ–±-—Å–∞–π—Ç—ã –ø—Ä—è–º–æ –≤ —á–∞—Ç–µ. –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç —Å–æ–∑–¥–∞–µ—Ç –º—É–ª—å—Ç–∏—Ñ–∞–π–ª–æ–≤—ã–π React-–ø—Ä–æ–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ Sandpack.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

‚ú® **–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ –≤–µ–±-–ø—Ä–æ–µ–∫—Ç—ã**: React + TypeScript + Vite
üéØ **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä**: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
üëÅÔ∏è **Live Preview**: –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
üì¶ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ npm –ø–∞–∫–µ—Ç–æ–≤
üíæ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î**: –í—Å–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∏ –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ–∑–∂–µ
üîÑ **–ò—Ç–µ—Ä–∞—Ü–∏–∏**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–∞–π—Ç –ø–æ –∑–∞–ø—Ä–æ—Å—É

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –°–æ–∑–¥–∞–Ω–∏–µ —Å–∞–π—Ç–∞

–ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ –≤ —á–∞—Ç –∑–∞–ø—Ä–æ—Å —Å –æ–¥–Ω–∏–º –∏–∑ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤:

```
"–°–æ–∑–¥–∞–π —Å–∞–π—Ç –¥–ª—è –∫–æ—Ñ–µ–π–Ω–∏"
"–°–¥–µ–ª–∞–π –ª–µ–Ω–¥–∏–Ω–≥ –¥–ª—è IT-—Å—Ç–∞—Ä—Ç–∞–ø–∞"
"–°–≤–µ—Ä—Å—Ç–∞–π —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ"
"Build a website for a restaurant"
"–°–æ–∑–¥–∞–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—á"
```

### 2. –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏

–†–µ–∂–∏–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏:
- `—Å–æ–∑–¥–∞–π —Å–∞–π—Ç`, `—Å–¥–µ–ª–∞–π —Å–∞–π—Ç`, `—Å–≤–µ—Ä—Å—Ç–∞–π —Å–∞–π—Ç`
- `—Å–æ–∑–¥–∞–π –ª–µ–Ω–¥–∏–Ω–≥`, `—Å–¥–µ–ª–∞–π –ª–µ–Ω–¥–∏–Ω–≥`
- `—Å–æ–∑–¥–∞–π —Å—Ç—Ä–∞–Ω–∏—Ü—É`, `—Å–¥–µ–ª–∞–π —Å—Ç—Ä–∞–Ω–∏—Ü—É`
- `—Ä–∞–∑—Ä–∞–±–æ—Ç–∞–π —Å–∞–π—Ç`
- `website`, `create a website`, `build a website`
- `—Å–æ–∑–¥–∞–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ`, `—Å–¥–µ–ª–∞–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ`

### 3. –ß—Ç–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è

–ö–∞–∂–¥—ã–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç:

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `/index.html` - –≥–ª–∞–≤–Ω–∞—è HTML-—Å—Ç—Ä–∞–Ω–∏—Ü–∞
- `/src/main.tsx` - —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ React
- `/src/App.tsx` - –≥–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ:**
- `/src/components/*` - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- `/src/App.css` - —Å—Ç–∏–ª–∏ (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Tailwind)
- `package.json` —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

### 4. –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞

```json
{
  "title": "–°–∞–π—Ç –∫–æ—Ñ–µ–π–Ω–∏",
  "files": {
    "/index.html": "<!DOCTYPE html>...",
    "/src/main.tsx": "import React from 'react'...",
    "/src/App.tsx": "export default function App() {...}",
    "/src/components/Menu.tsx": "export function Menu() {...}"
  },
  "deps": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "react-router-dom": "^6.26.0"
  }
}
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**–¢–∞–±–ª–∏—Ü–∞ `artifacts`:**
```sql
CREATE TABLE artifacts (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  session_id INTEGER NOT NULL,
  type TEXT NOT NULL CHECK (type IN ('website')),
  title TEXT NOT NULL,
  files_json TEXT NOT NULL,
  deps_json TEXT,
  created_at INTEGER NOT NULL,
  updated_at INTEGER NOT NULL
);
```

**–¢–∞–±–ª–∏—Ü–∞ `messages`** (—Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞–º):
```sql
ALTER TABLE messages ADD COLUMN artifact_id INTEGER;
```

### API Endpoints

**POST `/api/artifacts/generate`** - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞ —á–µ—Ä–µ–∑ OpenAI
```json
{
  "prompt": "–°–æ–∑–¥–∞–π —Å–∞–π—Ç –¥–ª—è –∫–æ—Ñ–µ–π–Ω–∏",
  "model": "gpt-4o-mini"
}
```

**POST `/api/artifacts`** - –°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞
```json
{
  "sessionId": 1,
  "type": "website",
  "title": "–ú–æ–π —Å–∞–π—Ç",
  "files": {...},
  "deps": {...}
}
```

**GET `/api/artifacts/:id`** - –ü–æ–ª—É—á–µ–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞

**PUT `/api/artifacts/:id`** - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞

**GET `/api/sessions/:sessionId/artifacts`** - –í—Å–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã —Å–µ—Å—Å–∏–∏

### –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `WebsiteArtifactCard` - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞ —Å Sandpack
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ `Chat.tsx` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ intent –∏ —Ä–µ–Ω–¥–µ—Ä–∞

**–§—É–Ω–∫—Ü–∏–∏ –≤ `openai.ts`:**
- `detectWebsiteIntent()` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–º–µ—Ä–µ–Ω–∏—è —Å–æ–∑–¥–∞—Ç—å —Å–∞–π—Ç
- `generateWebsiteArtifact()` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ OpenAI API

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Sandpack

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç `@codesandbox/sandpack-react` –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞:
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ React + TypeScript
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç—Ä–∞–Ω—Å–ø–∏–ª—è—Ü–∏—è
- –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π iframe sandbox
- Live reload
- –ö–æ–Ω—Å–æ–ª—å –∏ error handling

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞: **400KB**
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å
- –í–∞–ª–∏–¥–∞—Ü–∏—è JSON —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- –¢–∏–ø—ã –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤: —Ç–æ–ª—å–∫–æ `"website"` (—Ä–∞—Å—à–∏—Ä—è–µ–º–æ)

### –ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞

–ü–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞:
1. ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è JSON
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ (400KB –ª–∏–º–∏—Ç)
4. ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã `deps`

–ü—Ä–∏ –æ—à–∏–±–∫–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- –ú–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞ —Å —É—Ç–æ—á–Ω–µ–Ω–Ω—ã–º –∑–∞–ø—Ä–æ—Å–æ–º

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ—Å—Ç–æ–π –ª–µ–Ω–¥–∏–Ω–≥
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "–°–æ–∑–¥–∞–π –ª–µ–Ω–¥–∏–Ω–≥ –¥–ª—è IT-—Å—Ç–∞—Ä—Ç–∞–ø–∞ —Å –≥–µ—Ä–æ–µ–º, –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞–º–∏ –∏ —Ñ–æ—Ä–º–æ–π –∫–æ–Ω—Ç–∞–∫—Ç–∞"
```

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "–°–¥–µ–ª–∞–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ TODO list —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –¥–æ–±–∞–≤–ª–µ–Ω–∏—è, —É–¥–∞–ª–µ–Ω–∏—è –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∑–∞–¥–∞—á"
```

### –°–ª–æ–∂–Ω—ã–π –º–Ω–æ–≥–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π —Å–∞–π—Ç
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "–°–æ–∑–¥–∞–π —Å–∞–π—Ç —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ —Å –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π, –º–µ–Ω—é –∏ —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è"
```

## –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- üì± –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ (–º–æ–±–∏–ª—å–Ω—ã–π/–ø–ª–∞–Ω—à–µ—Ç/–¥–µ—Å–∫—Ç–æ–ø)
- üé® –í—ã–±–æ—Ä —Ç–µ–º—ã/—à–∞–±–ª–æ–Ω–∞ –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π
- üíæ –≠–∫—Å–ø–æ—Ä—Ç –ø—Ä–æ–µ–∫—Ç–∞ –≤ ZIP
- üîÑ –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞
- üë• –°–æ–≤–º–µ—Å—Ç–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- üöÄ –î–µ–ø–ª–æ–π –Ω–∞ Vercel/Netlify –æ–¥–Ω–æ–π –∫–Ω–æ–ø–∫–æ–π

## –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–±–ª–µ–º–∞: –ê—Ä—Ç–µ—Ñ–∞–∫—Ç –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `OPENAI_API_KEY` –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞: `npm run server`

### –ü—Ä–æ–±–ª–µ–º–∞: –ê—Ä—Ç–µ—Ñ–∞–∫—Ç –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Sandpack —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: `npm list @codesandbox/sandpack-react`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –∑–∞–≥—Ä—É–∂–µ–Ω: `artifacts.has(message.artifactId)`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –æ—à–∏–±–∫–∏ Sandpack

### –ü—Ä–æ–±–ª–µ–º–∞: "Missing required files"

**–†–µ—à–µ–Ω–∏–µ:**
- OpenAI –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å `/index.html`, `/src/main.tsx`, `/src/App.tsx`
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. LICENSE —Ñ–∞–π–ª –ø—Ä–æ–µ–∫—Ç–∞
